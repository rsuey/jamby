<div class='row'>
  <div class='columns small-6 small-centered'>
    <h3><%= t('text.models.payment.titles.new') %></h3>
  </div>

  <div class='columns small-6 small-centered'>
    <h4><%= @group_session.title %></h4>
    <h5><%= @group_session.starts_at.strftime('%A, %B %e, %Y at %I:%M%P') %></h5>
    <p><%= @group_session.description %></p>
    <p>
      <%= t('text.models.payment.you_will_be_charged') %>
      <%= number_to_currency(@group_session.price) %>
    </p>
  </div>

  <%= render 'shared/errors', record: @payment %>

  <%= form_for @payment do |f| %>
    <div class='columns small-6 small-centered'>
      <%= f.label :payment_method_id %>
      <%= f.collection_select :payment_method_id, @account.payment_methods,
                                                  :id, :display_name,
                                                  include_blank: true %>
    </div>

    <%= fields_for :payment_method do |pm| %>
      <div class='columns small-6 small-centered'>
        <h4><%= t('text.models.payment_method.titles.new') %></h4>
      </div>
      <%= render 'payment_methods/fields', f: pm %>
    <% end %>

    <div class='columns small-6 small-centered'>
      <%= f.hidden_field :group_session_id, value: @payment.group_session_id %>
      <%= f.submit t('forms.models.payment.create'), class: 'button' %>
    </div>
  <% end %>
</div>
